<!DOCTYPE html>
<html lang="en-US">
    <head>
        <title>Tello - Live video stream</title>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="theme-color" content="rgb(0, 0, 0)">

        <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@500&display=swap" rel="stylesheet">

        <style>

            * {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            *:focus {
                outline: none;
            }

            *:focus-visible {
                outline: 2px solid var(--color-highlight);
            }

            html {
                font-size: clamp(16px, 16px + 0.4vw, 28px);
            }

            body {
                overflow: hidden;
                color: white;
                font-family: 'Heebo', arial, sans-serif;
                display: flex;
                align-items: center;
                background-color: black;
            }

            body > video {
                width: 100%;
                position: absolute;
                z-index: -1;
            }

            body > section {
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                padding: 1rem 0;
                width: 100%;
                height: 100vh;
                background: linear-gradient(black 0%, transparent 8%, transparent 92%, black 100%);
                opacity: 0;
                transition: opacity ease 0.2s;
            }

            body > section.hover {
                opacity: 1;
            }

            section > div {
                display: flex;
                justify-content: center;
                align-items: center;
                width: 100%;
                user-select: none;
                -webkit-user-select: none;
                height: 1rem;
                z-index: 2;
                transition: transform ease 0.2s;
            }

            section > div:nth-child(1) {
                transform: translateY(-50px);
            }

            section > div:nth-child(2) {
                transform: translateY(50px);
            }

            section > div.hover {
                transform: none;
            }

            #rec-circ {
                width: 1rem;
                height: 1rem;
                background-color: red;
                filter: drop-shadow(0 0 3px red);
                border-radius: 100%;
                margin-right: 0.3rem;
            }
        </style>
    </head>

    <body>
        <video autoplay></video>

        <section>
            <div>
                <p>Tello - Live video feed</p>
            </div>
            <div>
                <div id="rec-circ"></div>
                <p>RECORDING</p>
            </div>
        </section>

        <div id="back"></div>

        <script>
            let e = document.querySelector('body > section');
            let t = document.querySelectorAll('section > div');
            let v = document.querySelector('body > video');
            e.addEventListener('mouseenter', () => {
                e.classList.add('hover')
                t.forEach(e => e.classList.add('hover'))
            });
            e.addEventListener('mouseleave', () => {
                e.classList.remove('hover')
                t.forEach(e => e.classList.remove('hover'))
            });
            let c = new Hls();
            c.attachMedia(v);
            c.on(Hls.Events.MEDIA_ATTACHED, () => {
                c.loadSource('/play.m3u8');
                v.play();
            });
        </script>

    <script src="hls.js"></script>
    </body>
</html>